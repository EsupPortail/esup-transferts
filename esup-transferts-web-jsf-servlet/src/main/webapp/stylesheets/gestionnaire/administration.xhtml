<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/stylesheets/gestionnaire/template.xhtml">
	<ui:define name="navigation">
		<ui:include src="/stylesheets/gestionnaire/_include/_header.xhtml"></ui:include>
	</ui:define>
	<ui:define name="corps">
		<center>
			<h:form id="configuration"
				rendered="#{administrationController.personnel}" styleClass="panel"
				style="text-align:left;width:80%;">
				
				<p:growl id="messages" showDetail="false"/>
				<p:messages id="msgs" showDetail="false"/>

				<p:panel id="pnl"
					header="Esup-transferts #{msgs['ABOUT.VERSION']} #{applicationService.version}"
					toggleable="true" closable="false" toggleSpeed="500"
					closeSpeed="2000" widgetVar="panel">
				</p:panel>
					<p:panelGrid style="width: 100%">
					<f:facet name="header">
						<p:row>
							<p:column colspan="3">Liste des paramètres de l'application transferts</p:column>
						</p:row>
					</f:facet>

					<p:row>
						<p:column style="font-weight: bold;">Choix de l'affichage du voeu par composante</p:column>
						<p:column><p:inputSwitch value="#{sessionController.choixDuVoeuParComposante}" /></p:column>
						<p:column><p:commandButton id="modalDialogButton" onclick="PF('choixVoeuParComposante').show();" type="button" icon="ui-icon-help" /></p:column>
					</p:row>

						<p:row>
							<p:column style="font-weight: bold;">Mise à jour automatique de l'offre de formation</p:column>
							<p:column><p:inputSwitch value="#{sessionController.majOdfAuto}" /></p:column>
							<p:column><p:commandButton id="majOdfAutoButton" onclick="PF('majOdfAuto').show();" type="button" icon="ui-icon-help" /></p:column>
						</p:row>

						<p:row>
							<p:column style="font-weight: bold;">Planning des périodes de fermeture</p:column>
							<p:column><p:inputSwitch value="#{sessionController.planningFermeturesAuto}" /></p:column>
							<p:column><p:commandButton id="planningFermetureAutoButton" onclick="PF('planningFermetureAuto').show();" type="button" icon="ui-icon-help" /></p:column>
						</p:row>

					</p:panelGrid>

				<p:spacer style="padding-top: 3%"/>

				<p:commandButton value="Modifier"
					update=":configuration,:configuration:messages,:configuration:msgs,:configuration:msgs2" partialSubmit="true"
					action="#{administrationController.updateConfiguration}" />

				<p:messages id="msgs2" />

				<p:dialog id="modalDialog" header="Choix du voeu par composante"
					widgetVar="choixVoeuParComposante" modal="true" height="640"
					width="850">
					<center>
						<p:galleria panelWidth="700" panelHeight="500" showCaption="true">
							<p:graphicImage
								value="/media/images/aide/choixvoeucomposante.jpg" width="700"
								height="300" alt="Choix du voeu par composante" title="#{image}" />
							<p:graphicImage value="/media/images/aide/choixvoeudiplome.jpg"
								width="700" height="300" alt="Choix du voeu par diplôme"
								title="#{image}" />
						</p:galleria>
					</center>
				</p:dialog>

				<p:dialog id="majOdfAuto"
					header="Mise à jour automatique de l'offre de formation"
					widgetVar="majOdfAuto" modal="true" height="640" width="850">
					<center>
						<h:outputText
							value="Mise à jour automatique de l'offre de formation" />
					</center>
				</p:dialog>

				<p:dialog id="planningFermetureAuto"
					header="Planning des périodes de fermeture"
					widgetVar="planningFermetureAuto" modal="true" height="640" width="850">
					<center>
						<h:outputText
							value="Planning des périodes de fermeture" />
					</center>
				</p:dialog>

			</h:form>
		</center>
	</ui:define>
</ui:composition>
</html>